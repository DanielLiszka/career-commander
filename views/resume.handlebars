<!-- stored user resumes with ability to edit or delete entries WIP-->
  <div class='container w-100' id='delete_top_div'>
    <h2 class='border-bottom pb-2 text-center'>Saved Resumes</h2>
    <div class="text-center">
    <a 
    type="button" 
    class="btn btn-success btn-sm m-2" 
    id="addNewResume" 
    data-bs-toggle="modal"
    data-bs-target="#addResumeModal">
        Add a New Resume
    </a>
    </div>
    {{#if resumes.length}}
      {{#each resumes }}
        <div class='row d-flex justify-content-center' id="Parent-div">
        <div
          class='card border-secondary m-3 text-center col-12 col-lg-6 col-xl-4'
          id='spawnedCards'
        >
          <div class='card-body border-bottom'>
            <div class='card-title border-bottom'>
              <h4 id='resume_id_header' >Resume # {{id}}</h4> 
            </div>
                <div class='row gx-0'>
                <!-- Resume Name--> 
                <div class='col-lg-12 col-md-12 col-sm-6 col-xs-12 p-3'>
                    <div class='text-center'>
                        <label><strong>Resume Name </strong></label>
                        <p class='card-text text-wrap mt-2'
                            id='position_location'>
                            {{name}}
                        </p>
                    </div> 
                </div>
                <!-- Resume Description -->
                <div class='col-lg-12 col-md-12 col-sm-6 col-xs-12 p-3'>
                    <div class='text-center'>
                        <label><strong>Resume Description </strong></label>
                        <p class='card-text text-wrap mt-2'
                            id='position_location'>
                            {{description}}
                        </p>
                    </div> 
                </div>
                </div>
            </div>
          
          <div class='btn-group d-flex justify-content-center'>
            <div class='py-2 p-2' id='card-footer'>
                <!-- Button trigger modal -->
                <a 
                id='editResume'
                type="button" 
                class="btn btn-primary btn-sm" 
                data-bs-toggle="modal"
                data-bs-target="#editResumeModal-{{id}}">
                    Edit
                </a>
            {{#if (greaterThan ../resumes.length 1)}}
              <a
                id='deleteResume'
                href=''
                data-id={{id}}
                class='btn btn-danger btn-sm'
              >Delete</a>
            {{/if}}
            </div>
          </div>
        </div>
    </div>
   {{/each}}
   {{/if}}
  </div>

<!-- Remume Modal for editing. Saved data should be automatically entered into the input fields.-->
{{#if resumes.length}}
    {{#each resumes}}
        <div class="modal modal-name fade" id="editResumeModal-{{id}}" data-resume={{id}} tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-body">
                    <!-- Present stored resumes in a card format -->
                        <div class='container-fluid mt-5 mb-5 p-5 border border-secondary' id='edit_top_div'>
                            <h4 class="text-center" id='resume_id_modal_header'> Resume # {{id}}</h4>
                            <form class="row gx-0 needs-validation" novalidate>
                            <div class='row mt-3 mb-3'> 
                            <!-- Resume Name required required--> 
                            <div class='col-lg-12 col-md-12 col-sm-12 col-xs-12'>
                                <div class='form-group text-center'>
                                <label for='resume_name'>Resume Name</label>
                                <input
                                    type='text'
                                    class='form-control'
                                    id='resume_name-edit-{{id}}'
                                    placeholder='{{name}}'
                                    value='{{name}}' 
                                required>
                                <div class="invalid-feedback">
                                    Enter a resume name.
                                </div>
                                </div>
                            </div>
            
                            <!-- Resume Description required -->
                            <div class='form-group mt-4 text-center'>
                                <label for='resume_description'>Resume Description</label>
                                <textarea
                                class='form-control form-control-lg'
                                id='resume_description-edit-{{id}}'
                                rows='5'
                                required>{{description}}</textarea>
                                <div class="invalid-feedback">
                                Enter a resume description.
                                </div>
                            </div>
                     
                        <div class='row mt-4 mb-4 d-flex justify-content-center text-center'>
                            <div class='col-md-6 col-sm-6 col-xs-12'>
                                <button type="button" class="btn btn-secondary btn-small" data-id={{id}} id="close-resume" data-bs-dismiss="modal">Close</button>
                            </div>
                            <div class='col-md-6 col-sm-6 col-xs-12'>
                                <button type="button" class="save-resume btn btn-primary btn-small" data-id={{id}} id="save-resume">Save</button>
                            </div>
                        </div>
                        </div>
                        </div>
                    </div>
                    </form>
                    </div>

                </div>
              </div>
          </div>
      </div>
  {{/each}}
{{/if}}

<!-- Modal for Creating New Resumes -->
<div class="modal modal-name fade" id="addResumeModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">
            <!-- Present stored resumes in a card format -->
                <div class='container-fluid mt-5 mb-5 p-5 border border-secondary' id="post_top_div">
                    <h4 class="text-center" id='resume_id_modal_header'> Resume</h4>
                    <form class="row gx-0 needs-validation" novalidate>
                    <div class='row mt-3 mb-3'> 
                    <!-- Resume Name required required--> 
                    <div class='col-lg-12 col-md-12 col-sm-12 col-xs-12'>
                        <div class='form-group text-center'>
                        <label for='resume_name'>Resume Name</label>
                        <input
                            type='text'
                            class='form-control'
                            id='resume_name-post'
                            placeholder=''
                        required>
                        <div class="invalid-feedback">
                            Enter a resume name.
                        </div>
                        </div>
                    </div>
    
                    <!-- Resume Description required -->
                    <div class='form-group mt-4 text-center'>
                        <label for='resume_description'>Resume Description</label>
                        <textarea
                        class='form-control form-control-lg'
                        id='resume_description-post'
                        rows='5'
                        required>{{description}}</textarea>
                        <div class="invalid-feedback">
                        Enter a resume description.
                        </div>
                    </div>
            

                <div class='row mt-4 mb-4 d-flex justify-content-center text-center'>
                    <div class='col-md-6 col-sm-6 col-xs-12'>
                        <button type="button" class="btn btn-secondary btn-small" id="close-resume" data-bs-dismiss="modal">Close</button>
                    </div>
                    <div class='col-md-6 col-sm-6 col-xs-12'>
                        <button type="button" class="post-resume btn btn-primary btn-small" id="post-resume">Save</button>
                    </div>
                </div>
                </div>
                </div>
            </div>
            </form>
            </div>

        </div>
        </div>
    </div>
</div>